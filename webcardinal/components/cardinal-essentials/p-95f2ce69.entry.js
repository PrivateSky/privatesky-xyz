import{r as t,c as e,h as s,g as i}from"./p-8419ec55.js";import{b as o,s as n}from"./p-6e5ab94f.js";import{T as r}from"./p-8babdb2d.js";const h=class{constructor(s){t(this,s),this.getModelEvent=e(this,"getModelEvent",7),this.condition=null,this.conditionResult=!1,this.falseSlot=null,this.trueSlot=null}componentWillLoad(){if(!this._host.isConnected)return;this.modelChain=this.condition,this.modelChain=o(this.modelChain);let t=t=>{if(t.hasExpression(this.modelChain)){let e=()=>{this.condition=t.evaluateExpression(this.modelChain)};t.onChangeExpressionChain(this.modelChain,e),e()}else{let e=()=>{this.condition=t.getChainValue(this.modelChain)};t.onChange(this.modelChain,e),e()}this.falseSlot=null;const e=Array.from(this._host.children);let s=e.filter((t=>"condition-true"===t.getAttribute("slot")));this.trueSlot=s.map((t=>t.outerHTML)).join("");let i=e.filter((t=>"condition-false"===t.getAttribute("slot")));this.falseSlot=i.map((t=>t.outerHTML)).join(""),0===this.trueSlot.length&&0===this.falseSlot.length&&(this.trueSlot=e.map((t=>t.outerHTML)).join("")),this._host.innerHTML=""};return new Promise((e=>{this.getModelEvent.emit({callback:(s,i)=>{s&&console.log(s),t(i),this._updateConditionResult().then((()=>{e()}))}})}))}componentWillUpdate(){return this._updateConditionResult()}_updateConditionResult(){let t;return t=this.condition instanceof Promise?this.condition:Promise.resolve(this.condition),t.then((t=>(this.conditionResult=n(t),Promise.resolve())))}render(){return s("psk-hoc",{innerHTML:this.conditionResult?this.trueSlot:this.falseSlot})}get _host(){return i(this)}};!function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var h=t.length-1;h>=0;h--)(o=t[h])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);n>3&&r&&Object.defineProperty(e,s,r)}([r({description:"The property value must be the name of a model property or expression. Children are rendered only if the value of the condition is evaluated to true",isMandatory:!0,propertyType:"any"})],h.prototype,"condition",void 0);export{h as psk_condition}