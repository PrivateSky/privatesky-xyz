import{r as t,c as s,h as i}from"./p-d4191909.js";import{H as e}from"./p-f0bd18cd.js";import{c as a,l as o,d as n,t as r,U as h}from"./p-0aafcc26.js";import{k as c,B as l}from"./p-369c1d7e.js";import{e as p}from"./p-554ca4d4.js";import{p as m}from"./p-794858b0.js";import"./p-0c3518a5.js";const{join:d}=h,f={};const u=class{constructor(i){t(this,i),this.getModelEvent=s(this,"webcardinal:model:get",7),this.getTranslationModelEvent=s(this,"webcardinal:translationModel:get",7),this.disableContainer=!1,this.disableTranslations=!1,this.chain=""}async componentWillLoad(){if(this.host.isConnected&&(this.host.hasAttribute("template-name")&&!this.template&&(console.warn(['Attribute "template-name" is deprecated!','Use "template" instead!'].join("\n"),"target:",this.host),this.template=this.host.getAttribute("template-name")),this.host.innerHTML=await(async t=>{const{basePath:s}=window.WebCardinal,i=a();if(f[i]||(f[i]={}),f[i][t])return f[i][t];let[e,h]=await o(d(s,n(),r,t).pathname);return e?"default"===i?"":(f.default||(f.default={}),f.default[t]?f.default[t]:([e,h]=await o(d(s,r,t).pathname),e?"":(f.default[t]=h,h))):(f[i][t]=h,h)})(this.template),this.chain=p(this.host),this.chain)){const t=c(this);try{this.model=await m(this.getModelEvent),this.translationModel=await m(this.getTranslationModelEvent)}catch(t){console.error(t)}l.bindChildNodes(this.host,{model:this.model,translationModel:this.translationModel,recursive:!0,chainPrefix:this.chain?this.chain.slice(1):null,enableTranslations:t})}}async componentDidLoad(){this.disableContainer&&(Array.from(this.host.childNodes).forEach((t=>this.host.parentNode.insertBefore(t,this.host))),this.host.remove())}async getModel(){if(this.model)return this.model}async getTranslationModel(){if(this.translationModel)return this.translationModel}render(){if(!this.disableContainer)return i("slot",null)}};!function(t,s,i,e){var a,o=arguments.length,n=o<3?s:null===e?e=Object.getOwnPropertyDescriptor(s,i):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,s,i,e);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(s,i,n):a(s,i))||n);o>3&&n&&Object.defineProperty(s,i,n)}([e()],u.prototype,"host",void 0);export{u as webc_template}