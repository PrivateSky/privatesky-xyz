const n={loadAndSetTranslationForPage:async n=>{var o;const{mapping:t,skinsPath:a}=n,{pathname:r}=window.location,{language:e,translations:s}=window.WebCardinal;if(null===(o=s[e])||void 0===o?void 0:o[r])return;const i=t[r];if(!i)return void console.warn("No HTML page mapping was found for the current pathname: "+r);if(i.startsWith("http"))return void console.warn("Translations for external sources are not supported yet!");let l=i.slice(0,i.lastIndexOf("."));0!==l.indexOf("/")&&(l="/"+l);const c=-1===l.indexOf("/")?l:l.substr(l.lastIndexOf("/")+1),u=`${a}/${e}${l}/${c}.translate.json`;try{const n=await fetch(u),o=await n.json();return s[e]||(s[e]={}),s[e][r]=o,o}catch(n){return console.log(`Error while loading translation for ${e}: ${u}`,n),console.error(n),null}}};export{n as C}