import{c as a,a as t,d as o,S as n,U as r,b as e}from"./p-0aafcc26.js";import"./p-0c3518a5.js";const{join:s}=r,i={getController:async r=>{const{controllers:e,basePath:i}=window.WebCardinal,l=a();if(e[r])return e[r];let c=await t(s(i,o(),n,"controllers",r).pathname);return c?(e[r]=c,c):"default"!==l?(c=await t(s(i,n,"controllers",r).pathname),c?(e[r]=c,c):void 0):void 0}},{join:l}=r,c={loadAndSetTranslationsForPage:async t=>{var n;const{basePath:r,mapping:s}=t,i=a();window.WebCardinal.translations||(window.WebCardinal.translations={});const{translations:c}=window.WebCardinal;let{pathname:d}=window.location;if(d.endsWith("/")&&"/"!==d&&(d=d.slice(0,-1)),null===(n=c[i])||void 0===n?void 0:n[d])return!0;const p=s[d];if(!p)return console.warn("No HTML page mapping was found for the current pathname: "+d),!1;if(p.startsWith("http"))return console.warn("Translations for external sources are not supported yet!"),!1;let w=p.slice(0,p.lastIndexOf("."))+".translate",[u,f]=await e(l(r,o(),w).pathname);return u?"default"!==i&&([u,f]=await e(l(r,w).pathname),!u&&(c.default||(c.default={}),c.default[d]=f,!0)):(c[i]||(c[i]={}),c[i][d]=f,!0)}};export{i as C,c as a}