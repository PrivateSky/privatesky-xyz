import{r as t,c as s,h as i}from"./p-751bf9a8.js";import{H as o}from"./p-3693c2fd.js";import"./p-9919876e.js";import"./p-5b88ecac.js";import{C as e}from"./p-9680461c.js";import{C as n}from"./p-4386e5ef.js";import{C as r}from"./p-a67d796d.js";import{B as a}from"./p-c2bba7e7.js";import{p as l}from"./p-794858b0.js";import"./p-0c3518a5.js";import"./p-b2df645c.js";import{i as c}from"./p-154b4b78.js";import{C as h}from"./p-7f1b1f8f.js";const f=class{constructor(i){t(this,i),this.getRoutingEvent=s(this,"webcardinal:routing:get",7),this.enableTranslations=!1}async componentWillLoad(){if(!this.host.isConnected)return;const t=await l(this.getRoutingEvent);if(this.enableTranslations&&await r.loadAndSetTranslationForPage(t),"string"==typeof this.controllerName)try{const t=await n.getController(this.controllerName);this.host.isConnected&&(this.controller=new t(this.host,this.history))}catch(t){return void console.error(t)}else this.controller=new h(this.host,this.history);const{model:s,translationModel:i}=this.controller;i&&(this.translationModel=i),s&&(this.model=s,a.bindElement(this.host,{model:this.model,translationModel:this.translationModel,enableTranslations:this.enableTranslations,recursive:!0})),(i||s)&&(this.listeners=new e(this.host,{model:s,translationModel:i}),s&&this.listeners.getModel.add(),i&&this.listeners.getTranslationModel.add())}connectedCallback(){if(this.listeners){const{getModel:t,getTranslationModel:s}=this.listeners;null==t||t.add(),null==s||s.add()}}disconnectedCallback(){if(this.listeners){const{getModel:t,getTranslationModel:s}=this.listeners;null==t||t.remove(),null==s||s.remove()}setTimeout((()=>{var t;document.body.contains(this.host)||null===(t=this.controller)||void 0===t||t.disconnectedCallback()}),100)}async getModel(){if(this.controller)return this.controller.model}async getTranslationModel(){if(this.controller)return this.controller.translationModel}render(){return i("slot",null)}};(function(t,s,i,o){var e,n=arguments.length,r=n<3?s:null===o?o=Object.getOwnPropertyDescriptor(s,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,s,i,o);else for(var a=t.length-1;a>=0;a--)(e=t[a])&&(r=(n<3?e(r):n>3?e(s,i,r):e(s,i))||r);n>3&&r&&Object.defineProperty(s,i,r)})([o()],f.prototype,"host",void 0),c(f);export{f as webc_container}