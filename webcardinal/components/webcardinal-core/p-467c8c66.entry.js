import{r as t,c as s,h as i}from"./p-751bf9a8.js";import{H as o}from"./p-3693c2fd.js";import"./p-9919876e.js";import"./p-5b88ecac.js";import{C as e}from"./p-9680461c.js";import{a as n,C as a}from"./p-623dd064.js";import{B as r}from"./p-c2bba7e7.js";import{p as l}from"./p-794858b0.js";import"./p-0c3518a5.js";import"./p-b2df645c.js";import{i as h}from"./p-154b4b78.js";import{C as c}from"./p-73abd941.js";const p=class{constructor(i){t(this,i),this.getRoutingEvent=s(this,"webcardinal:routing:get",7),this.enableTranslations=!1,this.disableContainer=!1}async componentWillLoad(){if(!this.host.isConnected)return;const t=await l(this.getRoutingEvent);if(this.enableTranslations&&await n.loadAndSetTranslationForPage(t),"string"==typeof this.controllerName)try{const t=await a.getController(this.controllerName);this.host.isConnected&&(this.controller=new t(this.disableContainer?this.host.parentElement:this.host,this.history))}catch(t){return void console.error(t)}else this.controller=new c(this.host,this.history);const{model:s,translationModel:i}=this.controller;i&&(this.translationModel=i),s&&(this.model=s,r.bindElement(this.host,{model:this.model,translationModel:this.translationModel,enableTranslations:this.enableTranslations,recursive:!0})),(i||s)&&(this.listeners=new e(this.host,{model:s,translationModel:i}),s&&this.listeners.getModel.add(),i&&this.listeners.getTranslationModel.add())}connectedCallback(){if(this.listeners){const{getModel:t,getTranslationModel:s}=this.listeners;null==t||t.add(),null==s||s.add()}}disconnectedCallback(){if(this.listeners){const{getModel:t,getTranslationModel:s}=this.listeners;null==t||t.remove(),null==s||s.remove()}setTimeout((()=>{var t;document.body.contains(this.host)||null===(t=this.controller)||void 0===t||t.disconnectedCallback()}),100)}async componentDidLoad(){this.disableContainer&&(Array.from(this.host.childNodes).forEach((t=>this.host.parentNode.insertBefore(t,this.host))),this.host.remove())}async getModel(){if(this.controller)return this.controller.model}async getTranslationModel(){if(this.controller)return this.controller.translationModel}render(){if(!this.disableContainer)return i("slot",null)}};(function(t,s,i,o){var e,n=arguments.length,a=n<3?s:null===o?o=Object.getOwnPropertyDescriptor(s,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,s,i,o);else for(var r=t.length-1;r>=0;r--)(e=t[r])&&(a=(n<3?e(a):n>3?e(s,i,a):e(s,i))||a);n>3&&a&&Object.defineProperty(s,i,a)})([o()],p.prototype,"host",void 0),h(p);export{p as webc_container}