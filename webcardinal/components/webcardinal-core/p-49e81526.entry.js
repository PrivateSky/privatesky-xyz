import{r as t,c as s,h as i}from"./p-afa78421.js";import{H as a}from"./p-33e6dc7e.js";import"./p-5b88ecac.js";import{j as o,k as e}from"./p-864401d2.js";import{p as r}from"./p-794858b0.js";import"./p-0c3518a5.js";const c={};const n=class{constructor(i){t(this,i),this.getModelEvent=s(this,"webcardinal:model:get",7),this.getTranslationModelEvent=s(this,"webcardinal:translationModel:get",7),this.chain="",this.disableContainer=!1}async componentWillLoad(){if(this.host.isConnected&&(this.host.innerHTML=await(async t=>{const{basePath:s}=window.WebCardinal;if(c[t])return c[t];const i=`${s}/templates/${t}.html`;try{const s=await fetch(i),a=await s.text();if(!s.ok)throw new Error(a);return c[t]=a,a}catch(s){return console.log(`Error while loading ${t} template at ${i}`,s),null}})(this.templateName),this.chain=o(this.host),this.chain))try{await e(this.host,{chain:this.chain,model:await r(this.getModelEvent),translationModel:await r(this.getTranslationModelEvent)})}catch(t){console.error(t)}}async componentDidLoad(){this.disableContainer&&(Array.from(this.host.childNodes).forEach((t=>this.host.parentNode.insertBefore(t,this.host))),this.host.remove())}render(){if(!this.disableContainer)return i("slot",null)}};!function(t,s,i,a){var o,e=arguments.length,r=e<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,s,i,a);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(e<3?o(r):e>3?o(s,i,r):o(s,i))||r);e>3&&r&&Object.defineProperty(s,i,r)}([a()],n.prototype,"host",void 0);export{n as webc_template}