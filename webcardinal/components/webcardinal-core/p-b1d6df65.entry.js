import{r as e,h as a,c as t}from"./p-d4191909.js";import{H as o}from"./p-f0bd18cd.js";import"./p-e33c1597.js";import{c as p}from"./p-03e52b74.js";import{p as n}from"./p-794858b0.js";import"./p-0c3518a5.js";import{U as i}from"./p-93b02efe.js";import"./p-ad52b503.js";import{i as r}from"./p-a247a1f7.js";const m=class{constructor(a){e(this,a),this.slots={before:!1,after:!1,unnamed:!1}}async componentWillLoad(){this.slots.unnamed=this.host.children.length>0;for(const e of Object.keys(this.slots))this.host.querySelector(`[slot=${e}]`)?(this.slots[e]=!0,this.host.classList.add("slot-"+e)):this.host.classList.remove("slot-"+e)}render(){return[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("div",{class:"container app-container"},a(this.slots.unnamed?"slot":"webc-app-router",null)),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null]}};(function(e,a,t,o){var p,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var r=e.length-1;r>=0;r--)(p=e[r])&&(i=(n<3?p(i):n>3?p(a,t,i):p(a,t))||i);n>3&&i&&Object.defineProperty(a,t,i)})([o()],m.prototype,"host",void 0),m.style={default:"webc-app-container{width:100%;height:100%;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--webc-app-container-gap);overflow-y:auto;background:var(--webc-app-container-background)}webc-app-container .container{max-width:100%;padding:0}webc-app-container.slot-before{grid-template-rows:auto 1fr}webc-app-container.slot-after{grid-template-rows:1fr auto}webc-app-container.slot-before.slot-after{grid-template-rows:auto 1fr auto}"};const c=class{constructor(a){e(this,a)}handleAppWarning(e){var a;(null===(a=e.detail)||void 0===a?void 0:a.length)&&this.addToast("warning",this.getWarningToastContent([...e.detail]))}handleAppError(e){this.addToast("error",this.getErrorToastContent(e.detail))}getErrorToastContent(e){const{message:a,url:t,lineNo:o,columnNo:p,error:n,isScriptError:i}=e;let r="";return i||(r=`\n            <div class="see-more-content">${n?n.stack.replace(/(?:\r\n|\r|\n)/g,"<br>").replace(/ /g,"Â "):""}</div>\n            <div class="details">\n                URL: ${t}<br />\n                Line: ${o} / Column: ${p}<br />\n            </div>\n        `),`\n        <div class="title">\n            <button type="button" class="close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <div class="message">${a} <span class="see-more">[See more]<span></div>\n        </div>\n        ${r}\n    `}getWarningToastContent(e){return`\n        <div class="title">\n            <button type="button" class="close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <div class="message">${e.join("<br/>")}</div>\n        </div>\n    `}addToast(e,a){const t=document.createElement("div");t.className="webc-toast "+e,t.innerHTML=a,this.host.append(t);const o=t.querySelector(".see-more");o&&o.addEventListener("click",(()=>{o.remove();const e=t.querySelector(".see-more-content");e&&e.classList.add("show")})),t.querySelector("button.close").addEventListener("click",(()=>{t.remove()}))}render(){return null}};(function(e,a,t,o){var p,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var r=e.length-1;r>=0;r--)(p=e[r])&&(i=(n<3?p(i):n>3?p(a,t,i):p(a,t))||i);n>3&&i&&Object.defineProperty(a,t,i)})([o()],c.prototype,"host",void 0),c.style={default:"webc-app-error-toast{pointer-events:none;position:fixed;right:0;bottom:0;width:600px;max-width:calc(100vw);height:auto}webc-app-error-toast .webc-toast{pointer-events:auto;color:#fff;text-align:left;border-radius:2px;margin:10px;padding:10px;z-index:1000;right:0;bottom:10px;max-height:250px;overflow-y:auto;-webkit-animation:fadein 0.5s;animation:fadein 0.5s}webc-app-error-toast .webc-toast.warning{background-color:var(--webc-app-error-toast-warning-background-color);color:var(--webc-app-error-toast-warning-color)}webc-app-error-toast .webc-toast.error{background-color:var(--webc-app-error-toast-error-background-color);color:var(--webc-app-error-toast-error-color)}webc-app-error-toast .webc-toast .title{position:relative}webc-app-error-toast .webc-toast .title .close{position:absolute;top:-10px;right:-10px;padding:2px 4px;background-color:transparent;border:none;cursor:pointer;font-size:28px}webc-app-error-toast .webc-toast .title .close:focus{outline:none}webc-app-error-toast .webc-toast .title .message{font-size:1.1rem;margin-right:20px}webc-app-error-toast .webc-toast .title .message .see-more{cursor:pointer}webc-app-error-toast .webc-toast .see-more-content{display:none;padding:10px 0}webc-app-error-toast .webc-toast .see-more-content.show{display:block}webc-app-error-toast .webc-toast .details{font-size:0.9rem;margin-top:5px}@-webkit-keyframes fadein{from{bottom:-30px;opacity:0}to{bottom:10px;opacity:1}}@keyframes fadein{from{bottom:-30px;opacity:0}to{bottom:10px;opacity:1}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}"};const{trimEnd:l}=i,d=class{constructor(o){e(this,o),this.getRoutingConfigEvent=t(this,"webcardinal:config:getRouting",7),this.items=[],this.basePath="",this.disableIdentity=!1,this.slots={before:!1,after:!1},this.modes=Object.keys(this._menu),this.defaultMode=this.modes[0],this.mode=this.defaultMode,this._extractItems=e=>{const a=[];for(const t of e){if(!t.indexed)continue;const e={name:t.name,path:t.path};t.children&&t.children.length>0&&(e.children=this._extractItems(t.children)),a.push(e)}return a},this._renderItem=e=>a("webc-app-menu-item",Object.assign({},{basePath:this.basePath,item:{path:e.path,children:e.children},menuElement:this.host,mode:this.mode,name:e.name}))}_toggleActiveItem(){const e=`[url="${window.location.pathname}"]`,a=this.host.querySelector(e);a&&a.deactivate().then(a.activate())}_renderItems(e=[],a=this._renderItem){return Array.isArray(e)&&0!==e.length?e.map((e=>a(e))):null}async componentWillLoad(){if(this.computedStyles=window.getComputedStyle(this.host),this.disableIdentity="true"===this.computedStyles.getPropertyValue("--webc-app-menu-disable-identity").trim(),0===this.items.length)try{const e=await n(this.getRoutingConfigEvent);this.items=this._extractItems(e.pages),this.basePath=l(new URL(e.baseURL).pathname)}catch(e){console.error(e)}this.modes.includes(this.mode)||(console.warn(`You must use one of the following modes: ${this.modes.join(", ")}\n`,"target element:",this.host),this.mode=this.defaultMode);for(const e of Object.keys(this.slots))this.host.querySelector(`[slot=${e}]`)?(this.slots[e]=!0,this.host.classList.add("slot-"+e)):this.host.classList.remove("slot-"+e)}get _menu(){const e=()=>[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("div",{class:"container content"},this.disableIdentity?null:a("webc-app-identity",null),a("div",{class:"app-menu items"},this._renderItems(this.items))),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null];return{vertical:e(),horizontal:e(),mobile:(()=>[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("header",null,this.disableIdentity?null:a("webc-app-identity",null),a("div",{class:"app-menu-toggle"},a("button",{class:"burger",onClick:(()=>{this.host.hasAttribute("active")?(this.host.removeAttribute("visible"),setTimeout((()=>{this.host.removeAttribute("active")}),p(this.computedStyles.getPropertyValue("--webc-app-menu-mobile-backdrop-transition-delay"))||200)):(this.host.setAttribute("active",""),setTimeout((()=>{this.host.setAttribute("visible","")}),5))}).bind(this)},a("span",{class:"line"}),a("span",{class:"line"}),a("span",{class:"line"})))),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null,a("div",{class:"app-menu-backdrop"},a("aside",{class:"app-menu items"},this._renderItems(this.items)))])()}}render(){return this.history?(this.history.listen(this._toggleActiveItem.bind(this)),this._menu[this.mode]):null}};(function(e,a,t,o){var p,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var r=e.length-1;r>=0;r--)(p=e[r])&&(i=(n<3?p(i):n>3?p(a,t,i):p(a,t))||i);n>3&&i&&Object.defineProperty(a,t,i)})([o()],d.prototype,"host",void 0),r(d),d.style={horizontal:'webc-app-menu{display:grid;padding:var(--webc-app-menu-padding);z-index:var(--webc-app-menu-z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{color:var(--webc-app-menu-color);text-decoration:none}webc-app-menu[mode=horizontal]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--webc-app-menu-gap);position:sticky;top:0;left:0;right:0;color:var(--webc-app-menu-horizontal-color);height:var(--webc-app-menu-horizontal-height);background:var(--webc-app-menu-horizontal-background);padding:var(--webc-app-menu-horizontal-padding);box-shadow:var(--webc-app-menu-horizontal-box-shadow)}webc-app-menu[mode=horizontal].slot-before{grid-template-columns:auto 1fr}webc-app-menu[mode=horizontal].slot-after{grid-template-columns:1fr auto}webc-app-menu[mode=horizontal].slot-before.slot-after{grid-template-columns:auto 1fr auto}webc-app-menu[mode=horizontal] .content{display:flex;align-items:center}webc-app-menu[mode=horizontal] .app-menu{display:flex;gap:var(--webc-app-menu-gap);justify-content:flex-end;width:100%}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--webc-app-menu-horizontal-dropdown-margin)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item{padding:var(--webc-app-menu-horizontal-dropdown-items-padding)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item,webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item>a{color:var(--webc-app-menu-horizontal-dropdown-color)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]{position:relative}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.item,webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item{display:flex;align-items:center;height:100%}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item{margin-right:var(--webc-app-menu-horizontal-triangle-size);padding-right:calc(3 * var(--webc-app-menu-horizontal-triangle-size))}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item:after{position:absolute;left:100%;top:50%;margin-top:calc(-0.5 * var(--webc-app-menu-horizontal-triangle-size));margin-left:calc(-2 * var(--webc-app-menu-horizontal-triangle-size));content:"";display:block;border-left:var(--webc-app-menu-horizontal-triangle-size) solid transparent;border-right:var(--webc-app-menu-horizontal-triangle-size) solid transparent;border-top:var(--webc-app-menu-horizontal-triangle-size) solid var(--webc-app-menu-color)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.items{position:absolute;top:100%;left:0;margin-left:0;padding:var(--webc-app-menu-horizontal-dropdown-padding);background:var(--webc-app-menu-horizontal-dropdown-background);width:var(--webc-app-menu-horizontal-dropdown-width);border-radius:var(--webc-app-menu-horizontal-dropdown-radius);box-shadow:var(--webc-app-menu-horizontal-dropdown-box-shadow)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown[active]>.item{font-weight:bold}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown[active]>.items{display:none}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown:hover>.items{display:grid}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item:last-child[level="0"] .dropdown>.items{left:initial;right:0}',mobile:'webc-app-menu{display:grid;padding:var(--webc-app-menu-padding);z-index:var(--webc-app-menu-z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{color:var(--webc-app-menu-color);text-decoration:none}webc-app-menu[mode=mobile]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--webc-app-menu-gap);position:sticky;top:0;left:0;right:0;color:var(--webc-app-menu-mobile-color);height:var(--webc-app-menu-mobile-height);background:var(--webc-app-menu-mobile-background);padding:var(--webc-app-menu-mobile-padding);box-shadow:var(--webc-app-menu-mobile-box-shadow)}webc-app-menu[mode=mobile].slot-before{grid-template-columns:auto 1fr}webc-app-menu[mode=mobile].slot-after{grid-template-columns:1fr auto}webc-app-menu[mode=mobile].slot-before.slot-after{grid-template-columns:auto 1fr auto}webc-app-menu[mode=mobile] header{display:flex;justify-content:space-between;align-items:center;background:transparent}webc-app-menu[mode=mobile] header .app-menu-toggle .burger{position:relative;background:transparent;border:0.5rem solid transparent;width:2.5rem;height:2rem}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line,webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:before,webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:after{position:absolute;content:"";left:0;right:0;height:2px;overflow:hidden;margin-top:-1px;border-radius:2px;background:var(--webc-app-menu-mobile-burger-color);transition:all var(--webc-app-menu-mobile-burger-transition-duration) ease-in-out}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line{top:50%}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:first-child{top:0}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:last-child{top:100%}webc-app-menu[mode=mobile] .app-menu-backdrop{display:none;position:fixed;left:0;top:var(--webc-app-menu-mobile-height);right:0;bottom:0;z-index:calc(var(--webc-app-menu-z-index) - 1)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{display:grid;gap:var(--webc-app-menu-gap);overflow-y:auto;width:100%;height:100%;padding:1rem;align-content:start}@media screen and (min-width: 320px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(1, 1fr)}}@media screen and (min-width: 640px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(2, 1fr)}}@media screen and (min-width: 960px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(3, 1fr)}}@media screen and (min-width: 1280px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(4, 1fr)}}@media screen and (min-width: 1600px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(5, 1fr)}}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--webc-app-menu-mobile-dropdown-margin);row-gap:var(--webc-app-menu-mobile-dropdown-gap);padding:var(--webc-app-menu-mobile-dropdown-items-padding)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item[level="0"]{padding:var(--webc-app-menu-mobile-items-padding);border-bottom:1px solid var(--webc-app-menu-mobile-items-border-color)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=mobile] .app-menu-backdrop:after{position:fixed;display:block;content:"";left:0;top:var(--webc-app-menu-mobile-height);right:0;bottom:0;background:rgba(0, 0, 0, 0.65);backdrop-filter:blur(5px);z-index:-1}webc-app-menu[mode=mobile] .app-menu-backdrop,webc-app-menu[mode=mobile] .app-menu-backdrop:after{opacity:0;pointer-events:none;transition:all var(--webc-app-menu-mobile-backdrop-transition-duration) ease-in-out}webc-app-menu[mode=mobile][active] .app-menu-backdrop{display:flex}webc-app-menu[mode=mobile][active][visible] .app-menu-backdrop,webc-app-menu[mode=mobile][active][visible] .app-menu-backdrop:after{opacity:1;pointer-events:all}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:first-child,webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:last-child{top:50%}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:first-child{transform:rotateZ(-45deg)}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:nth-child(2){height:0}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:last-child{transform:rotateZ(45deg)}',vertical:'webc-app-menu{display:grid;padding:var(--webc-app-menu-padding);z-index:var(--webc-app-menu-z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{color:var(--webc-app-menu-color);text-decoration:none}webc-app-menu[mode=vertical]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--webc-app-menu-gap);overflow-y:auto;min-width:var(--webc-app-menu-vertical-min-width);max-width:var(--webc-app-menu-vertical-max-width);color:var(--webc-app-menu-vertical-color);background:var(--webc-app-menu-vertical-background);padding:var(--webc-app-menu-vertical-padding)}webc-app-menu[mode=vertical].slot-before{grid-template-rows:auto 1fr}webc-app-menu[mode=vertical].slot-after{grid-template-rows:1fr auto}webc-app-menu[mode=vertical].slot-before.slot-after{grid-template-rows:auto 1fr auto}webc-app-menu[mode=vertical] .content{display:grid;row-gap:var(--webc-app-menu-gap);grid-template-rows:auto 1fr}webc-app-menu[mode=vertical] .app-menu{margin-top:1rem}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--webc-app-menu-vertical-dropdown-margin);row-gap:var(--webc-app-menu-vertical-dropdown-gap);padding:var(--webc-app-menu-vertical-dropdown-items-padding)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[level="0"]{padding:var(--webc-app-menu-vertical-items-padding);border-top:1px solid var(--webc-app-menu-vertical-border-color)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[level="0"]:last-child{border-bottom:1px solid var(--webc-app-menu-vertical-border-color)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=vertical][disable-identity] .content{grid-template-rows:1fr}'};export{m as webc_app_container,c as webc_app_error_toast,d as webc_app_menu}