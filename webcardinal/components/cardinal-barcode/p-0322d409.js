let t=!1;const n="undefined"!=typeof window?window:{},e=n.document||{head:{}},o={t:0,o:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,n,e,o)=>t.addEventListener(n,e,o),rel:(t,n,e,o)=>t.removeEventListener(n,e,o),ce:(t,n)=>new CustomEvent(t,n)},s=t=>Promise.resolve(t),l={},c=t=>"object"==(t=typeof t)||"function"===t,i=(t,n,...e)=>{let o=null,s=!1,l=!1,i=[];const r=n=>{for(let e=0;e<n.length;e++)o=n[e],Array.isArray(o)?r(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof t&&!c(o))&&(o+=""),s&&l?i[i.length-1].l+=o:i.push(s?a(null,o):o),l=s)};if(r(e),n){const t=n.className||n.class;t&&(n.class="object"!=typeof t?t:Object.keys(t).filter((n=>t[n])).join(" "))}const u=a(t,null);return u.i=n,i.length>0&&(u.u=i),u},a=(t,n)=>({t:0,m:t,l:n,h:null,u:null,i:null}),r={},u=(t,e,s,l,i,a)=>{if(s!==l){let r=A(t,e),u=e.toLowerCase();if("class"===e){const n=t.classList,e=f(s),o=f(l);n.remove(...e.filter((t=>t&&!o.includes(t)))),n.add(...o.filter((t=>t&&!e.includes(t))))}else if("style"===e){for(const n in s)l&&null!=l[n]||(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(const n in l)s&&l[n]===s[n]||(n.includes("-")?t.style.setProperty(n,l[n]):t.style[n]=l[n])}else if(r||"o"!==e[0]||"n"!==e[1]){const n=c(l);if((r||n&&null!==l)&&!i)try{if(t.tagName.includes("-"))t[e]=l;else{let n=null==l?"":l;"list"===e?r=!1:null!=s&&t[e]==n||(t[e]=n)}}catch(t){}null==l||!1===l?!1===l&&""!==t.getAttribute(e)||t.removeAttribute(e):(!r||4&a||i)&&!n&&t.setAttribute(e,l=!0===l?"":l)}else e="-"===e[2]?e.slice(3):A(n,u)?u.slice(2):u[2]+e.slice(3),s&&o.rel(t,e,s,!1),l&&o.ael(t,e,l,!1)}},d=/\s/,f=t=>t?t.split(d):[],w=(t,n,e,o)=>{const s=11===n.h.nodeType&&n.h.host?n.h.host:n.h,c=t&&t.i||l,i=n.i||l;for(o in c)o in i||u(s,o,c[o],void 0,e,n.t);for(o in i)u(s,o,c[o],i[o],e,n.t)},m=(t,n,o)=>{let s,l,c=n.u[o],i=0;if(null!==c.l)s=c.h=e.createTextNode(c.l);else if(s=c.h=e.createElement(c.m),w(null,c,!1),c.u)for(i=0;i<c.u.length;++i)l=m(t,c,i),l&&s.appendChild(l);return s},b=(t,n,e,o,s,l)=>{let c,i=t;for(;s<=l;++s)o[s]&&(c=m(null,e,s),c&&(o[s].h=c,i.insertBefore(c,n)))},h=(t,n,e,o)=>{for(;n<=e;++n)(o=t[n])&&o.h.remove()},p=(t,n)=>t.m===n.m,y=(t,n)=>{const e=n.h=t.h,o=t.u,s=n.u,l=n.l;null===l?(w(t,n,!1),null!==o&&null!==s?((t,n,e,o)=>{let s,l=0,c=0,i=n.length-1,a=n[0],r=n[i],u=o.length-1,d=o[0],f=o[u];for(;l<=i&&c<=u;)null==a?a=n[++l]:null==r?r=n[--i]:null==d?d=o[++c]:null==f?f=o[--u]:p(a,d)?(y(a,d),a=n[++l],d=o[++c]):p(r,f)?(y(r,f),r=n[--i],f=o[--u]):p(a,f)?(y(a,f),t.insertBefore(a.h,r.h.nextSibling),a=n[++l],f=o[--u]):p(r,d)?(y(r,d),t.insertBefore(r.h,a.h),r=n[--i],d=o[++c]):(s=m(n&&n[c],e,c),d=o[++c],s&&a.h.parentNode.insertBefore(s,a.h));l>i?b(t,null==o[u+1]?null:o[u+1].h,e,o,c,u):c>u&&h(n,l,i)})(e,o,n,s):null!==s?(null!==t.l&&(e.textContent=""),b(e,null,n,s,0,s.length-1)):null!==o&&h(o,0,o.length-1)):t.l!==l&&(e.data=l)},$=t=>D(t).p,g=(t,n)=>{n&&!t.$&&n["s-p"]&&n["s-p"].push(new Promise((n=>t.$=n)))},E=(t,n)=>{if(t.t|=16,!(4&t.t))return g(t,t.g),G((()=>T(t,n)));t.t|=512},T=(t,n)=>{const e=t.T;let o;return n&&(o=L(e,"componentWillLoad")),o=M(o,(()=>L(e,"componentWillRender"))),M(o,(()=>v(t,e)))},v=async(t,n)=>{const e=t.p,o=e["s-rc"];((t,n)=>{const e=t.p,o=t.v||a(null,null),s=(t=>t&&t.m===r)(n)?n:i(null,null,n);s.m=null,s.t|=4,t.v=s,s.h=o.h=e,y(o,s)})(t,C(t,n)),o&&(o.map((t=>t())),e["s-rc"]=void 0);{const n=e["s-p"],o=()=>P(t);0===n.length?o():(Promise.all(n).then(o),t.t|=4,n.length=0)}},C=(t,n)=>{try{n=n.render(),t.t&=-17,t.t|=2}catch(n){H(n,t.p)}return n},P=t=>{const n=t.p,e=t.T,o=t.g;L(e,"componentDidRender"),64&t.t||(t.t|=64,O(n),L(e,"componentDidLoad"),t.C(n),o||k()),t.$&&(t.$(),t.$=void 0),512&t.t&&F((()=>E(t,!1))),t.t&=-517},k=()=>{O(e.documentElement),F((()=>(t=>{const n=o.ce("appload",{detail:{namespace:"webcardinal"}});return t.dispatchEvent(n),n})(n)))},L=(t,n,e)=>{if(t&&t[n])try{return t[n](e)}catch(t){H(t)}},M=(t,n)=>t&&t.then?t.then(n):n(),O=t=>t.classList.add("hydrated"),j=(t,n,e)=>{if(n.P){t.watchers&&(n.k=t.watchers);const s=Object.entries(n.P),l=t.prototype;if(s.map((([t,[o]])=>{(31&o||2&e&&32&o)&&Object.defineProperty(l,t,{get(){return((t,n)=>D(this).L.get(n))(0,t)},set(e){((t,n,e,o)=>{const s=D(t),l=s.p,i=s.L.get(n),a=s.t,r=s.T;if(e=((t,n)=>null==t||c(t)?t:4&n?"false"!==t&&(""===t||!!t):1&n?t+"":t)(e,o.P[n][0]),!(8&a&&void 0!==i||e===i)&&(s.L.set(n,e),r)){if(o.k&&128&a){const t=o.k[n];t&&t.map((t=>{try{r[t](e,i,n)}catch(t){H(t,l)}}))}2==(18&a)&&E(s,!1)}})(this,t,e,n)},configurable:!0,enumerable:!0})})),1&e){const n=new Map;l.attributeChangedCallback=function(t,e,s){o.jmp((()=>{const e=n.get(t);this[e]=(null!==s||"boolean"!=typeof this[e])&&s}))},t.observedAttributes=s.filter((([t,n])=>15&n[0])).map((([t,e])=>{const o=e[1]||t;return n.set(o,t),o}))}}return t},R=t=>{L(t,"connectedCallback")},W=(t,s={})=>{const l=[],c=s.exclude||[],i=n.customElements,a=e.head,r=a.querySelector("meta[charset]"),u=e.createElement("style"),d=[];let f,w=!0;Object.assign(o,s),o.o=new URL(s.resourcesUrl||"./",e.baseURI).href,t.map((t=>t[1].map((n=>{const e={t:n[0],M:n[1],P:n[2],O:n[3]};e.P=n[2],e.k={};const s=e.M,a=class extends HTMLElement{constructor(t){super(t),_(t=this,e)}connectedCallback(){f&&(clearTimeout(f),f=null),w?d.push(this):o.jmp((()=>(t=>{if(0==(1&o.t)){const n=D(t),e=n.j,o=()=>{};if(1&n.t)R(n.T);else{n.t|=1;{let e=t;for(;e=e.parentNode||e.host;)if(e["s-p"]){g(n,n.g=e);break}}e.P&&Object.entries(e.P).map((([n,[e]])=>{if(31&e&&t.hasOwnProperty(n)){const e=t[n];delete t[n],t[n]=e}})),(async(t,n,e,o,s)=>{if(0==(32&n.t)){if(n.t|=32,(s=q(e)).then){const t=()=>{};s=await s,t()}s.isProxied||(e.k=s.watchers,j(s,e,2),s.isProxied=!0);const t=()=>{};n.t|=8;try{new s(n)}catch(t){H(t)}n.t&=-9,n.t|=128,t(),R(n.T)}const l=n.g,c=()=>E(n,!0);l&&l["s-rc"]?l["s-rc"].push(c):c()})(0,n,e)}o()}})(this)))}disconnectedCallback(){o.jmp((()=>(()=>{0==(1&o.t)&&L(D(this).T,"disconnectedCallback")})()))}componentOnReady(){return D(this).R}};e.W=t[0],c.includes(s)||i.get(s)||(l.push(s),i.define(s,j(a,e,1)))})))),u.innerHTML=l+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),a.insertBefore(u,r?r.nextSibling:a.firstChild),w=!1,d.length?d.map((t=>t.connectedCallback())):o.jmp((()=>f=setTimeout(k,30)))},x=new WeakMap,D=t=>x.get(t),S=(t,n)=>x.set(n.T=t,n),_=(t,n)=>{const e={t:0,p:t,j:n,L:new Map};return e.R=new Promise((t=>e.C=t)),t["s-p"]=[],t["s-rc"]=[],x.set(t,e)},A=(t,n)=>n in t,H=(t,n)=>(0,console.error)(t,n),V=new Map,q=t=>{const n=t.M.replace(/-/g,"_"),e=t.W,o=V.get(e);return o?o[n]:import(`./${e}.entry.js`).then((t=>(V.set(e,t),t[n])),H)},I=[],N=[],U=(n,e)=>s=>{n.push(s),t||(t=!0,e&&4&o.t?F(z):o.raf(z))},Y=t=>{for(let n=0;n<t.length;n++)try{t[n](performance.now())}catch(t){H(t)}t.length=0},z=()=>{Y(I),Y(N),(t=I.length>0)&&o.raf(z)},F=t=>s().then(t),G=U(N,!0);function B(t,n,e=!1,o=null){const s=new CustomEvent(t,n);e&&(o?o.dispatchEvent(s):document.dispatchEvent(s))}function J(t){return t&&"string"==typeof t&&0!==t.length?t.split("").map((t=>t===t.toLowerCase()?t:"-"+t.toLowerCase())).join(""):""}function K(t){if("string"!=typeof t)throw Error("Invalid model chain");return t.split("@").join("")}function Q(t){if("boolean"==typeof t)return t;if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":case null:return!1;default:return!!t}return!!t}function X(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function Z(t,n){const e=document.createElement("style");e.innerHTML=n,t.appendChild(e)}function tt(t,n=null){let e=window.$$;return e&&e.SSAPP_CONTEXT&&e.SSAPP_CONTEXT.BASE_URL&&e.SSAPP_CONTEXT.SEED&&0!==t.indexOf(e.SSAPP_CONTEXT.BASE_URL)&&0!==t.indexOf("data:image")&&(t=`${e.SSAPP_CONTEXT.BASE_URL}${0===t.indexOf("/")?t.substr(1):t}`),fetch(t,n)}window.cardinal=window.cardinal||{},window.cardinal.oldCustomTheme=window.cardinal.oldCustomTheme||{};const{oldCustomTheme:nt}=window.cardinal;nt.dependencies=nt.dependencies||{},nt.imports=nt.imports||{},nt.appTheme=nt.appTheme||null;const{dependencies:et,imports:ot}=nt,st=/@import.*?["']([^"']+)["'].*?;/g;function lt(t){return new Promise(((n,e)=>{tt(t).then((t=>{if(t.ok)return n(t.text());e({url:t.url,status:t.status,statusText:t.statusText})}))}))}function ct(t,n){return!!n&&(n.shadowRoot?t.parentNode===n.shadowRoot.host:ct(n,n.parentElement))}function it(){let t=t=>{let n={};t.addEventListener("styleExists",(e=>{e.stopImmediatePropagation(),e.preventDefault();let o=e.detail.componentTag;(0,e.detail.callback)(void 0,n.hasOwnProperty(o),t),n[o]||(n[o]=!0)})),t.addEventListener("componentWasRemoved",(t=>{let e=t.detail.componentTag;n[e]&&delete n[e]}))};return t(document.querySelector("body")),n=>{const{componentWillLoad:e,disconnectedCallback:o}=n;n.componentWillLoad=function(){const n=$(this);if(n&&n.isConnected){let o=o=>{const{basePath:s}=window.WebCardinal;let l=n.tagName.toLowerCase(),c=t=>new Promise((n=>{let c=s+"/themes/"+o+"/components/"+l+"/"+l+".css";et[c]||(et[c]=new Promise(((t,n)=>{lt(c).then((n=>{t(n)})).catch(n)}))),et[c].then((n=>{(function(t,n){return ot[t]||(ot[t]=new Promise(((t,e)=>{st.exec(n)?n.replace(st,((o,s)=>{et[s]||(et[s]=lt(s)),et[s].then((e=>{t(n.replace(o,e))})).catch(e)})):t(n)}))),ot[t]})(c,n).then((n=>{let e=document.createElement("style");e.innerHTML=n,t.append(e)}))})).catch((t=>{console.log(`Request on resource ${t.url} ended with status: ${t.status} (${t.statusText})`)})).finally((()=>{n(e&&e.call(this))}))}));return n.shadowRoot?(t(n),c(n.shadowRoot)):new Promise(n.isConnected?t=>{let o=ct(n,n.parentElement);n.isSlotted=o;let s=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(n,s,l)=>{n?console.log(n):s?t(e&&e.call(this)):(o||(l=l.shadowRoot),c(l).then((()=>{t()})))},componentTag:o?"SLOTTED:"+l:l}});n.dispatchEvent(s)}:t=>{t(e&&e.call(this))})};return nt.appTheme?o(nt.appTheme):new Promise((t=>{let e=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(n,e)=>{if(n)return console.log(n);nt.appTheme=e,o(nt.appTheme).then((()=>{t()}))}});n.dispatchEvent(e)}))}return e&&e.call(this)},n.disconnectedCallback=function(){const t=$(this);let n=t.tagName.toLowerCase();t.isSlotted&&(n="SLOTTED:"+n);let e=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:n}});t.dispatchEvent(e),o&&o.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.customTheme=window.cardinal.customTheme||{THEME:void 0,IMPORTS:{},EVENTS:{GET_THEME:"getThemeConfig",ADD_STYLE:"CustomTheme:add-style",REMOVE_STYLE:"CustomTheme:remove-style"}};const at=window.cardinal.customTheme;async function rt(t){let n="";window&&(window.basePath?n=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(n=window.WebCardinal.basePath));const e=t.tagName.toLowerCase(),o=t.mode||t.getAttribute("mode")||"default",s=`${n}/themes/${at.THEME}/components/${e}/${e+("default"!==o?"."+o:"")+".css"}`;if(!at.IMPORTS[s]){const[t,n]=await async function(t){try{const n=await tt(t);return[!0,await n.text()]}catch(t){return console.log(t),[!1]}}(s);if(!t)return;at.IMPORTS[s]=n}const l=at.IMPORTS[s];t.shadowRoot?(function(t){const n=t.host,e={true:{},false:{}};n.addEventListener(at.EVENTS.ADD_STYLE,(o=>{o.preventDefault(),o.stopImmediatePropagation();const{data:{tag:s,slotted:l},callback:c}=o.detail;e[l][s]||(c(void 0,l?{target:n}:{target:t}),e[l][s]=!0)})),n.addEventListener(at.EVENTS.REMOVE_STYLE,(t=>{t.preventDefault(),t.stopImmediatePropagation();const{data:{tag:n,slotted:o}}=t.detail;e[o][n]=!1}))}(t.shadowRoot),Z(t.shadowRoot,l)):(t.isSlotted=function(t){for(;t.parentElement;){if(t.parentElement.shadowRoot)return t.parentElement.shadowRoot.host===t.parentNode;t=t.parentElement}return!1}(t),t.dispatchEvent(new CustomEvent(at.EVENTS.ADD_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:e,slotted:t.isSlotted},callback:async(t,n)=>{if(t)return console.log(t);const{target:e}=n;Z(e,l)}}})))}function ut(){return t=>{const{componentWillLoad:n,disconnectedCallback:e}=t;t.componentWillLoad=async function(){const t=$(this);return(t||t.isConnected)&&(at.THEME?await rt(t):await async function(t,n){t.dispatchEvent(new CustomEvent(at.EVENTS.GET_THEME,{bubbles:!0,cancelable:!0,composed:!0,detail:async(e,o)=>{if(e)return console.log(e);at.THEME=o,await n(t)}}))}(t,rt)),n&&n.call(this)},t.disconnectedCallback=async function(){const t=$(this);return t.dispatchEvent(new CustomEvent(at.EVENTS.REMOVE_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:t.tagName.toLowerCase(),slotted:!!t.isSlotted}}})),e&&e.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.controllers=window.cardinal.controllers||{},window.cardinal.pendingControllerRequests=window.cardinal.pendingControllerRequests||{};export{it as C,ut as a,W as b,J as c,X as d,B as e,$ as g,i as h,K as n,s as p,S as r,Q as s}