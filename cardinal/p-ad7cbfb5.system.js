System.register(["./p-e1460616.system.js","./p-17d20a18.system.js"],(function(t){"use strict";var e,r,a;return{setters:[function(t){e=t.g},function(t){r=t.a;a=t.c}],execute:function(){t("B",s);function n(t){var e=this;Object.keys(t).forEach((function(r){e[r]=t[r]}))}function i(t,e,a,n){var i=this;var u=Array.from(n.attributes).filter((function(t){return t.name.startsWith(a)}));u.forEach((function(u){var o=u.name.split(a)[1];var l=r(o);var s=t?t+"."+u.value:u.value;var c=e.getChainValue(s);n.setAttribute(o,c);i[l]=e.getChainValue(s)}))}function u(t,e,a,n){var i=this;var u=Array.from(n.attributes).filter((function(t){return t.value.startsWith(a)}));u.forEach((function(u){var o=u.value.split(a)[1];var l=t?t+"."+o:o;var s=r(u.name);if(e.hasExpression(l)){i[s]=e.evaluateExpression(l);e.onChangeExpressionChain(l,(function(){i[s]=e.evaluateExpression(l)}))}else{var c=e.getChainValue(l);n.setAttribute(u.name,c);i[s]=c;e.onChange(l,(function(){i[s]=e.getChainValue(l)}))}}))}function o(t,e){try{var r=this;if(r.rootModel){var a=t;if(r.parentChain){a=r.parentChain+"."+t}r.rootModel.setChainValue(a,e);return true}return false}catch(n){console.error(n)}return false}function l(t,r,a){if(t||!r){return a()}var n=this;var o=e(n);var l,s,c;if(o.getAttribute("data-view-model")!==null&&o.tagName.toLowerCase()==="psk-for-each"){l=o.getAttribute("data-view-model");c=l;n.__assignProperties.call(n,{rootModel:r,parentChain:c});return a()}l=o.getAttribute("view-model");c=l;if(l===null){s=o.getAttribute("name")!==null&&!o.getAttribute("name").startsWith("@")?o.getAttribute("name"):null;if(s===null&&o.getAttribute("label")!==null&&!o.getAttribute("label").startsWith("@")){s=o.getAttribute("label").replace(/( |:|\/|\.|-)/g,"").toLowerCase()}c=s}if(!l&&!s){u.call(n,c,r,"@",o,a);i.call(n,c,r,"view-model-",o,a);return a()}function f(t,e){n[t]=r.getChainValue(e);r.onChange(e,(function(){n[t]=r.getChainValue(e)}))}function v(){var t=c+".value";var e=r.getChainValue(c);if(!e||r.getChainValue(t)){return a()}f("value",t)}n.__assignProperties.call(n,{rootModel:r,parentChain:c});if(l){var h=r.getChainValue(c);if(!h){return a()}Object.keys(h).forEach((function(t){var e=c+"."+t;f(t,e)}));v();return a()}return a()}function s(){return function(t){var r=t.componentWillLoad;t.componentWillLoad=function(){var t=this;var i=e(t);t["changeModel"]=o;t["__assignProperties"]=n;function u(e){function r(r,a){l.apply(t,[r,a,e])}a("getModelEvent",{bubbles:true,composed:true,cancellable:true,detail:{callback:r}},true,i)}if(!i.isConnected){return r&&r.call(t)}var s=i.getAttributeNames();var c=s.filter((function(t){return t.toLowerCase()==="data-view-model"||t.toLowerCase().includes("view-model")||i.getAttribute(t).toLowerCase().startsWith("@")}));if(c.length===0){return r&&r.call(t)}return new Promise((function(e){var a=function(){e(r&&r.call(t))};u(a)}))}}}}}}));