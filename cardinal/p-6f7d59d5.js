const s=new class{constructor(){this.controllers={},this.pendingControllerRequests={}}registerController(s,i){this.controllers[s]=i,this._fullFillPreviousRequests(s)}_fullFillPreviousRequests(s){if(this.pendingControllerRequests[s])for(;this.pendingControllerRequests[s].length;)this.pendingControllerRequests[s].pop().resolve(this.controllers[s])}getController(s){return new Promise((i,t)=>{if(this.controllers[s])i(this.controllers[s]);else{let o=`scripts/controllers/${s}.js`;if(void 0!==window.basePath){let s="/";window.basePath[window.basePath.length-1]===s&&(s=""),o=window.basePath+s+o}__sc_import_cardinal(o).then(s=>{i(s.default||s)}).catch(t)}})}};export{s as C}