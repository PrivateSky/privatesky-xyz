import{g as e}from"./p-83ba3037.js";import{o as t}from"./p-93fcdef3.js";window.cardinal=window.cardinal||{},window.cardinal.oldCustomTheme=window.cardinal.oldCustomTheme||{};const{oldCustomTheme:o}=window.cardinal;o.dependencies=o.dependencies||{},o.imports=o.imports||{},o.appTheme=o.appTheme||null;const{dependencies:n,imports:s}=o,i=/@import.*?["']([^"']+)["'].*?;/g;function l(e){return new Promise((t,o)=>{fetch(e).then(e=>{if(e.ok)return t(e.text());o({url:e.url,status:e.status,statusText:e.statusText})})})}window.cardinal=window.cardinal||{},window.cardinal.customTheme=window.cardinal.customTheme||{THEME:void 0,IMPORTS:{},EVENTS:{GET_THEME:"getThemeConfig"}};window;const c=function(){let t=e=>{let t={};e.addEventListener("styleExists",o=>{o.stopImmediatePropagation(),o.preventDefault();let n=o.detail.componentTag;(0,o.detail.callback)(void 0,t.hasOwnProperty(n),e),t[n]||(t[n]=!0)}),e.addEventListener("componentWasRemoved",e=>{let o=e.detail.componentTag;t[o]&&delete t[o]})};return t(document.querySelector("body")),c=>{const{componentWillLoad:d,disconnectedCallback:m}=c;c.componentWillLoad=function(){const c=e(this);if(c){let e=e=>{let o=c.tagName.toLowerCase(),m=t=>new Promise(c=>{let m=window.basePath+"themes/"+e+"/components/"+o+"/"+o+".css";n[m]||(n[m]=new Promise((e,t)=>{l(m).then(t=>{e(t)}).catch(t)})),n[m].then(e=>{var o,c;(o=m,c=e,s[o]||(s[o]=new Promise((e,t)=>{i.exec(c)?c.replace(i,(o,s)=>{n[s]||(n[s]=l(s)),n[s].then(t=>{e(c.replace(o,t))}).catch(t)}):e(c)})),s[o]).then(e=>{let o=document.createElement("style");o.innerHTML=e,t.append(o)})}).catch(e=>{console.log(`Request on resource ${e.url} ended with status: ${e.status} (${e.statusText})`)}).finally(()=>{c(d&&d.call(this))})});return c.shadowRoot?(t(c),m(c.shadowRoot)):new Promise(c.isConnected?e=>{let t=function e(t,o){return!!o&&(o.shadowRoot?t.parentNode===o.shadowRoot.host:e(o,o.parentElement))}(c,c.parentElement);c.isSlotted=t;let n=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(o,n,s)=>{o?console.log(o):n?e(d&&d.call(this)):(t||(s=s.shadowRoot),m(s).then(()=>{e()}))},componentTag:t?"SLOTTED:"+o:o}});c.dispatchEvent(n)}:e=>{e(d&&d.call(this))})};return o.appTheme?e(o.appTheme):new Promise(t=>{let n=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(n,s)=>{if(n)return console.log(n);o.appTheme=s,e(o.appTheme).then(()=>{t()})}});c.dispatchEvent(n)})}return d&&d.call(this)},c.disconnectedCallback=function(){const t=e(this);let o=t.tagName.toLowerCase();t.isSlotted&&(o="SLOTTED:"+o);let n=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:o}});t.dispatchEvent(n),m&&m.call(this)}}};export{c as C}